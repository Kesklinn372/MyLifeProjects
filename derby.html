<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Romurally</title>
    <link rel="stylesheet" href="pagesstyles.pure.css" />
    <style>
        body {
            padding-top: 70px;
        }

        .gallery-item {
            width: 100%;
            aspect-ratio: 1 / 1;
            object-fit: cover;
            cursor: pointer;
        }

        .modal-body {
            position: relative;
            padding: 0;
            background: black;
            min-height: 80vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Контейнер для медиаконтента + стрелочек */
        #mediaWrapper {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            max-height: 80vh;
            margin: 0 auto;
        }

        /* Фото и видео */
        #mediaContainer img,
        #mediaContainer video {
            max-height: 80vh;
            max-width: calc(100vw - 120px);
            /* с отступом для стрелок */
            object-fit: contain;
            display: block;
            margin: 0 auto;
        }

        /* Стрелочки вне фото */
        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            border: none;
            color: white;
            font-size: 2rem;
            width: 3rem;
            height: 3rem;
            line-height: 3rem;
            text-align: center;
            cursor: pointer;
            user-select: none;
            border-radius: 50%;
            z-index: 20;
            transition: background-color 0.3s;
        }

        .nav-btn:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        .nav-prev {
            left: 0;
            margin-left: -50px;
            /* сдвигаем за пределы медиаконтейнера */
        }

        .nav-next {
            right: 0;
            margin-right: -50px;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">DEV.PROJECTS</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить навигацию">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="redbull.html">RB Lennupäev</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="robolahing.html">Robolahing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="derby.html">Romurally</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="legoauto.html">Legoauto</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Контакт</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    <div class="container mt-4">
        <div class="row g-2">

            <div style="font-size: 2rem; font-weight: bold;">
                Romurally 2024
            </div>
            <div>Дерби на авто — это битва машин, где участники таранит друг друга, пока не останется один победитель.
            </div>
            <div><a href="https://tinyurl.com/romurally">tinyurl.com/romurally</a></div>

            <!-- Все картинки и видео -->


            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/40a.png" class="gallery-item" alt="Видео 2" data-type="video"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/16a.mp4" />
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/41a.png" class="gallery-item" alt="Видео 2" data-type="video"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/17a.mp4" />
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/42a.png" class="gallery-item" alt="Видео 2" data-type="video"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/1a.mp4" />
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/43a.png" class="gallery-item" alt="Видео 2" data-type="video"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/2a.mp4" />
            </div>


            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/3a.jpg" class="gallery-item" alt="Фото 1" data-type="image" data-bs-toggle="modal"
                    data-bs-target="#mediaModal" data-bs-src="img/audicar/3a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/4a.jpg" class="gallery-item" alt="Фото 2" data-type="image" data-bs-toggle="modal"
                    data-bs-target="#mediaModal" data-bs-src="img/audicar/4a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/5a.jpg" class="gallery-item" alt="Фото 3" data-type="image" data-bs-toggle="modal"
                    data-bs-target="#mediaModal" data-bs-src="img/audicar/5a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/6a.jpg" class="gallery-item" alt="Фото 4" data-type="image" data-bs-toggle="modal"
                    data-bs-target="#mediaModal" data-bs-src="img/audicar/6a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/7a.jpg" class="gallery-item" alt="Фото 5" data-type="image" data-bs-toggle="modal"
                    data-bs-target="#mediaModal" data-bs-src="img/audicar/7a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/8a.jpg" class="gallery-item" alt="Фото 6" data-type="image" data-bs-toggle="modal"
                    data-bs-target="#mediaModal" data-bs-src="img/audicar/8a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/9a.jpg" class="gallery-item" alt="Фото 7" data-type="image" data-bs-toggle="modal"
                    data-bs-target="#mediaModal" data-bs-src="img/audicar/9a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/10a.jpg" class="gallery-item" alt="Фото 8" data-type="image"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/10a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/11a.jpg" class="gallery-item" alt="Фото 9" data-type="image"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/11a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/12a.jpg" class="gallery-item" alt="Фото 10" data-type="image"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/12a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/13a.jpg" class="gallery-item" alt="Фото 11" data-type="image"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/13a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/14a.jpg" class="gallery-item" alt="Фото 12" data-type="image"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/14a.jpg" />
            </div>
            <div class="col-6 col-md-4 col-lg-3">
                <img src="img/audicar/15a.jpg" class="gallery-item" alt="Фото 13" data-type="image"
                    data-bs-toggle="modal" data-bs-target="#mediaModal" data-bs-src="img/audicar/15a.jpg" />
            </div>

            <div class="text-center my-4">
                <a href="https://www.instagram.com/devidromuralli" target="_blank" rel="noopener noreferrer"
                    class="btn btn-outline-dark me-2">
                    Romurally Instagram
                </a>
                <a href="https://t.me/s/devidromuralli" target="_blank" rel="noopener noreferrer"
                    class="btn btn-outline-primary">
                    Romurally Telegram&#8203;
                </a>
            </div>

        </div>
    </div>

    <!-- Модальное окно -->
    <div class="modal fade" id="mediaModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content bg-transparent border-0">
                <div class="modal-body p-0 position-relative">
                    <div id="mediaWrapper">
                        <button type="button" class="nav-btn nav-prev" aria-label="Предыдущее">&lt;</button>
                        <div id="mediaContainer"></div>
                        <button type="button" class="nav-btn nav-next" aria-label="Следующее">&gt;</button>
                    </div>
                </div>
                <button type="button" class="btn-close position-absolute top-0 end-0 m-3" data-bs-dismiss="modal"
                    aria-label="Закрыть"></button>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white text-center py-4 mt-5">
        <div class="container">
            <p class="mb-2">DEV.PROJECTS</p>
            <a href="https://www.instagram.com/devid.melnik" target="_blank"
                class="text-white me-3 text-decoration-none">связаться в
                инстаграмме</a>
            <a href="https://t.me/kesklinn" target="_blank" class="text-white text-decoration-none">связаться в
                телеграме</a>
        </div>
    </footer>

    <script src="js/bootstrap.bundle.min.js"></script>
    <script>
        const mediaModal = document.getElementById('mediaModal');
        const mediaContainer = document.getElementById('mediaContainer');
        const prevBtn = mediaModal.querySelector('.nav-prev');
        const nextBtn = mediaModal.querySelector('.nav-next');
        const items = Array.from(document.querySelectorAll('.gallery-item'));
        let currentIndex = 0;

        function showMedia(index) {
            if (index < 0) index = items.length - 1;
            if (index >= items.length) index = 0;
            currentIndex = index;

            mediaContainer.innerHTML = '';
            const item = items[index];
            const type = item.getAttribute('data-type');
            const src = item.getAttribute('data-bs-src');

            if (type === 'image') {
                const img = document.createElement('img');
                img.src = src;
                img.alt = item.alt || '';
                mediaContainer.appendChild(img);
            } else if (type === 'video') {
                const video = document.createElement('video');
                video.src = src;
                video.controls = true;
                video.autoplay = true;
                video.muted = true;
                mediaContainer.appendChild(video);
            }
        }

        items.forEach((item, index) => {
            item.addEventListener('click', () => {
                showMedia(index);
            });
        });

        prevBtn.addEventListener('click', () => {
            showMedia(currentIndex - 1);
        });

        nextBtn.addEventListener('click', () => {
            showMedia(currentIndex + 1);
        });

        mediaModal.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                showMedia(currentIndex - 1);
            } else if (e.key === 'ArrowRight') {
                showMedia(currentIndex + 1);
            }
        });

        mediaModal.setAttribute('tabindex', '-1');

        // Фокус для отлова клавиш при открытии
        const bsModal = bootstrap.Modal.getOrCreateInstance(mediaModal);
        mediaModal.addEventListener('shown.bs.modal', () => {
            mediaModal.focus();
        });

        mediaModal.addEventListener('hidden.bs.modal', () => {
            mediaContainer.innerHTML = '';
        });
    </script>
</body>

</html>